 {% extends 'base.html' %}
    {% block body %}
    <div class="container">
        <div class="row">
                <div class="col-md-6 mt-2">
                        <form method="POST" class="shadow p-4 mt-2" action="{% url 'todoapp:index' %}">
                                {% csrf_token %}
                                <div class="form-label">
                                <div class="row m-3 pt-2 form-group">
                                        <label for="title">Title</label>
                                        <input type="text" class="form-control" id="title" name="title">
                                </div>
                                <div class="row m-3 form-group">
                                        <label for="priority">Priority</label>
                                        <input type="text" class="form-control" id="priority" name="priority">   
                                </div>
                                <div class="row m-3 form-group">
                                        <label for="session-date">Dead line</label>
                                        <input type="date" class="form-control" name="date" id="session-date" placeholder="Deadline" min="{{ today }}">   
                                </div>
                                <div class="m-3 pb-2 text-center">
                                        <input class="btn btn-success todo-submit" type="submit">
                                </div>
                        </div>
                        </form>
                </div>
                <div class="col-md-6 mt-2">
                        <h5>Tasks to be completed</h5>

                {% if tasks %}
                    {% for task in tasks %}
                        <div class="card shadow mb-2">
                            <div class="card-body">
                                <h4 class="card-title">{{ task.title }}</h4>
                                <p class="card-text">Priority: {{ task.priority }}</p>
                                <p class="card-text">Dead Line: {{ task.date }}</p>
                                <a href="{% url 'todoapp:delete' task.id %}" class="btn btn-danger">Delete</a>
                                <a href="{% url 'todoapp:update' task.id %}" class="btn btn-warning">Edit</a>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p>No tasks found.</p>
                {% endif %}


                        <!-- {% for i in tasks %}
                        <div class="card shadow">
                                <div class="card-body">
                                        <h6 class="card-title">{{i.title}}</h6>
                                        <p>{{i.priority}}</p>
                                        <p>Deadline -- {{i.date}}</p>
                                        
                                        <a class="btn btn-danger" href="{% url 'todoapp:delete' i.id %}">Done</a>
                                        <a class="btn btn-warning" href="{% url 'todoapp:update' i.id %}">Update</a>
                                </div>
                        </div>
                        <br>
                        {% endfor %} -->
                </div>
        </div>
    </div>
    
    {% endblock %}